<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Groups</title>
    <!-- Instant theme application (no flash) -->
    <script>
        (function() {
            const cachedTheme = sessionStorage.getItem("theme");
            if (cachedTheme === "dark" || cachedTheme === "light") {
                document.documentElement.setAttribute("data-theme", cachedTheme);
            }
        })();
    </script>
    <link rel="stylesheet" href="./src/styles/tasks.css" />
    <link rel="stylesheet" href="./src/styles/style.css" />
    <link rel="stylesheet" href="./src/styles/overlay.css" />
    <script type="module" src="/src/components/site-navbar.js"></script>
    <script type="module" src="/src/components/site-bottom-bar.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        mustard: "#F9A03F",
                        cream: "#ffffff",
                        blush: "#F5CAC3",
                        teal: "#84A59D",
                        coral: "#F28482",
                    },
                },
            },
        };
    </script>

    <script type="module" src="/src/components/site-loader.js"></script>
    <script type="module" src="./src/groups/groupsLoad.js" defer></script>
    <script type="module" src="./src/groups/groupsAddGroup.js" defer></script>
</head>

<body class="page-body" data-page="Groups">
    <site-loader></site-loader>
    <site-navbar></site-navbar>
    <main class="page-main">
        <div>
            <div class="container" style="justify-content: center;"><button id="addGroupBtn">Add a Group</button></div>
            <div class="container" style="justify-content: center;"><button type="create"><a href="groupCreate.html">Create a Group</a></button></div>
        </div>
        <div id="groups-container" class="events-container"></div>
        </div>
    </main>

    <div id="groupOverlay" class="overlay" aria-hidden="true">
        <div class="overlay_panel" role="dialog" aria-modal="true" aria-labelledby="overlayTitle">
            <header>
                <h3 id="overlayTitle">Join Group</h3>
            </header>

            <form id="joinGroupForm">
                <label for="groupIdInput">Group ID</label>
                <input id="groupIdInput" name="groupId" type="text" required placeholder="Enter group ID"
                    style="width:100%; padding:.5rem; margin-top:.25rem; margin-bottom:.5rem; box-sizing:border-box;">
                <div style="display:flex; gap:.5rem; justify-content:flex-end;">
                    <button type="button" id="cancelJoin">Cancel</button>
                    <button type="submit">Join</button>
                </div>
                <div id="joinMessage" class="overlay_message" role="status" aria-live="polite"></div>
            </form>
        </div>
    </div>

    <site-bottom-bar></site-bottom-bar>
</body>

</html>